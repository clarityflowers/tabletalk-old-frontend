@import 'games/blades-in-the-dark/colors.scss';
@import 'games/blades-in-the-dark/fonts.scss';

#blades-in-the-dark #window div.portal div.character div.health-and-items
div.stress-and-trauma > div.tickbars {
  display: flex;
  flex-flow: row wrap;
  position: relative;
  align-items: flex-start;
  justify-content: flex-end;
  .label {
    padding: 0 .25em;
    position: relative;
    z-index: 4;
    margin-right: -.1em;
    background: $sun;
    color: $stone;
  }
  >div.bar {
    // margin: 1em 0 -1em 0;
    display: flex;
    flex-flow: row nowrap;
    align-items: flex-start;
    position: relative;
    &:after {
      z-index: 2;
      position: absolute;
      top: 0;
      left: 0;
      content: "";
      width: 100%;
      height: .5em;
      background: $sun;
      box-shadow: $shadow;
    }
    div.ticks {
      font-size: 1.5em;
      button.tick {
        position: relative;
        svg {
        }
      }
    }
    &.stress {
      flex: 1 0 auto;
      div.ticks {
        z-index: 3;
        button.tick {
          margin-right: .33em;
          &:after {
            content: "";
            position: absolute;
            left: -.15em;
            top: 0;
            width: .2em;
            height: .33em;
            background: $sun;
          }
        }
      }
    }
    &.trauma {
      &:after {
        content: none;
      }
      margin-left: -.5em;
      flex: 0 0 auto;
      button.label {
        cursor: pointer;
        text-align: center;
        width: calc(100% - .5em);
        box-sizing: border-box;
        position: absolute;
        left: .5em;
        &:focus {
          color: darken($fire, 20%);
        }
        &:hover {
          color: $fire;
        }
        &:active {
          color: lighten($fire, 30%);
        }
      }
      div.ticks {
        button.tick {
          margin-left: .33em;
          svg polygon {
            stroke: darken($stone, 10%);
          }
          &.checked svg {
            margin-left: .038em;
            polygon {
              stroke: $sun;
              fill: $sun;
            }
          }
          &:not(:disabled) {
            &:focus svg polygon {
              stroke: darken($fire, 20%);
            }
            &:hover svg polygon {
              stroke: darken($fire, 20%);
            }
            &:active svg polygon {
              stroke: lighten($fire, 30%);
            }
          }
        }
      }
    }
    &.trauma-list {
      padding: .75em 0 0 .4em;
      font-size: .8em;
      flex: 100 1 0;
      display: flex;
      flex-flow: row nowrap;
      justify-content: flex-start;
      align-items: center;
      z-index: 2;
      button.trauma {
        color: $sky;
        text-shadow: $text-shadow;
        margin: 0 .5em;
        &:not(.disabled) {
          &:focus {
            color: lighten($sky, 20%);
          }
          &:hover {
            color: $fire;
          }
          &:active {
            color: lighten($fire, 30%);
          }
        }
      }
      button.plus {
        margin: .2em -.2em .4em .2em;
        font: $icon;
        font-size: .75em;
        color: $sun;
        background: $sky;
        border-radius: 2em;
        padding: .4em;
        box-shadow: $shadow;
      }
    }
  }
}
