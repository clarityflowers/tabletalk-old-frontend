@import 'games/blades-in-the-dark/common/colors.scss';
@import 'games/blades-in-the-dark/common/fonts.scss';

#blades-in-the-dark #window div.portal div.character div.health-and-abilities
div.stress-and-trauma > div.tickbars {
  display: flex;
  flex-flow: row wrap;
  position: relative;
  align-items: flex-start;
  justify-content: flex-end;
  .label {
    padding: 0 .25em;
    position: relative;
    z-index: 4;
    background: $sun;
    color: $stone;
  }
  >div.bar {
    // margin: 1em 0 -1em 0;
    margin-bottom: .2em;
    display: flex;
    flex-flow: row nowrap;
    align-items: flex-start;
    position: relative;
    &:after {
      z-index: 2;
      position: absolute;
      top: 0;
      left: 0;
      content: "";
      width: 100%;
      height: .5em;
      background: $sun;
      box-shadow: $shadow;
    }
    div.ticks {
      font-size: 1.5em;
      div.tick {
        position: relative;
        svg {
        }
      }
    }
    &.stress {
      flex: 1 0 auto;
      div.ticks {
        z-index: 3;
        div.tick {
          margin-right: .33em;
          &:after {
            content: "";
            position: absolute;
            left: -.15em;
            top: 0;
            width: .16em;
            height: .33em;
            background: $sun;
          }
        }
      }
      button.label {
        box-shadow: $shadow;
        &:not(:disabled) {
          cursor: pointer;
          &:focus {
            text-decoration: underline;
          }
          &:hover {
            color: $fire;
            & + div.check-array.ticks {
              button div.tick:not(.checked):first-child svg polygon {
                fill: $fire;
              }
            }
          }
          &:active {
            color: lighten($fire, 30%);
          }
        }
      }
    }
    &.trauma {
      &:after {
        content: none;
      }
      margin-left: -.5em;
      flex: 0 0 auto;
      div.label {
        text-align: center;
        width: calc(100% - .5em);
        box-sizing: border-box;
        position: absolute;
        left: .5em;
      }
      div.ticks {
        div.tick {
          margin-left: .33em;
          svg polygon {
            stroke: darken($stone, 10%);
          }
          &.checked svg {
            polygon {
              stroke: $sun;
              fill: $sun;
            }
          }
        }
      }
    }
    &.trauma-list {
      padding: .75em 0 0 .4em;
      flex: 100 1 0;
      justify-content: flex-start;
      z-index: 2;
      height: auto;
      div.trauma {
        color: $sky;
        text-shadow: $text-shadow;
      }
    }
  }
}
